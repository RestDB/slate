
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>RestDB API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript--node&quot;,&quot;javascript--browser&quot;,&quot;python&quot;,&quot;php&quot;,&quot;java&quot;,&quot;csharp&quot;,&quot;swift&quot;,&quot;swift&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript--node">Node.js</a>
              <a href="#" data-language-name="javascript--browser">JS</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="swift">Swift</a>
              <a href="#" data-language-name="swift">Objective-C</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cors-api-keys" class="toc-h2 toc-link" data-title="CORS API keys">CORS API keys</a>
                  </li>
                  <li>
                    <a href="#auth0-com-jwt-tokens" class="toc-h2 toc-link" data-title="Auth0.com JWT tokens">Auth0.com JWT tokens</a>
                  </li>
                  <li>
                    <a href="#custom-jwt-api" class="toc-h2 toc-link" data-title="Custom JWT API">Custom JWT API</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#data-collection-api" class="toc-h1 toc-link" data-title="Data Collection API">Data Collection API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fetch-a-data-list-from-a-collection" class="toc-h2 toc-link" data-title="Fetch a data list from a collection">Fetch a data list from a collection</a>
                  </li>
                  <li>
                    <a href="#fetch-a-data-item-from-a-collection" class="toc-h2 toc-link" data-title="Fetch a data item from a collection">Fetch a data item from a collection</a>
                  </li>
                  <li>
                    <a href="#update-a-data-item-in-a-collection" class="toc-h2 toc-link" data-title="Update a data item in a collection">Update a data item in a collection</a>
                  </li>
                  <li>
                    <a href="#query-language" class="toc-h2 toc-link" data-title="Query language">Query language</a>
                  </li>
                  <li>
                    <a href="#post-resource" class="toc-h2 toc-link" data-title="POST resource">POST resource</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#mail-api" class="toc-h1 toc-link" data-title="Mail API">Mail API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send-an-email" class="toc-h2 toc-link" data-title="Send an email">Send an email</a>
                  </li>
                  <li>
                    <a href="#list-sent-emails" class="toc-h2 toc-link" data-title="List sent emails">List sent emails</a>
                  </li>
                  <li>
                    <a href="#get-one-sent-email" class="toc-h2 toc-link" data-title="Get one sent email">Get one sent email</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#media-content-api" class="toc-h1 toc-link" data-title="Media Content API">Media Content API</a>
          </li>
          <li>
            <a href="#meta-data-api" class="toc-h1 toc-link" data-title="Meta Data API">Meta Data API</a>
          </li>
          <li>
            <a href="#codehook-api" class="toc-h1 toc-link" data-title="Codehook API">Codehook API</a>
          </li>
          <li>
            <a href="#javascript-api" class="toc-h1 toc-link" data-title="JavaScript API">JavaScript API</a>
          </li>
          <li>
            <a href="#plugin-api" class="toc-h1 toc-link" data-title="Plugin API">Plugin API</a>
          </li>
          <li>
            <a href="#real-time-api" class="toc-h1 toc-link" data-title="Real time API">Real time API</a>
          </li>
          <li>
            <a href="#snapshot-api" class="toc-h1 toc-link" data-title="Snapshot API">Snapshot API</a>
          </li>
          <li>
            <a href="#pages" class="toc-h1 toc-link" data-title="Pages">Pages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#handlebars" class="toc-h2 toc-link" data-title="Handlebars">Handlebars</a>
                  </li>
                  <li>
                    <a href="#variables" class="toc-h2 toc-link" data-title="Variables">Variables</a>
                  </li>
                  <li>
                    <a href="#page-codehooks" class="toc-h2 toc-link" data-title="Page Codehooks">Page Codehooks</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
          </li>
          <li>
            <a href="#custom-routes" class="toc-h1 toc-link" data-title="Custom routes">Custom routes</a>
          </li>
          <li>
            <a href="#relations-in-data" class="toc-h1 toc-link" data-title="Relations in data">Relations in data</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#lookups" class="toc-h2 toc-link" data-title="Lookups">Lookups</a>
                  </li>
                  <li>
                    <a href="#parent-child" class="toc-h2 toc-link" data-title="Parent child">Parent child</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#command-line-tool" class="toc-h1 toc-link" data-title="Command line tool">Command line tool</a>
          </li>
          <li>
            <a href="#debugging" class="toc-h1 toc-link" data-title="Debugging">Debugging</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rest-inspector" class="toc-h2 toc-link" data-title="Rest inspector">Rest inspector</a>
                  </li>
                  <li>
                    <a href="#realtime-output" class="toc-h2 toc-link" data-title="Realtime output">Realtime output</a>
                  </li>
                  <li>
                    <a href="#web-console" class="toc-h2 toc-link" data-title="Web console">Web console</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#application-settings" class="toc-h1 toc-link" data-title="Application settings">Application settings</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#caching" class="toc-h2 toc-link" data-title="Caching">Caching</a>
                  </li>
                  <li>
                    <a href="#properties" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://restdb.io'>Sign Up for a new RestDB account here</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>This is the RestDB developer documentation and API reference.
RestDB.io is an online NoSQL database designed for speed and simplicity. A small but smart feature set gives you powerful building blocks for creating business application backends (backoffice), dynamic web content and API centric solutions.</p>
<h1 id='authentication'>Authentication</h1>
<p>API calls against your database REST API must be authenticated. </p>

<blockquote>
<p>Example code for an authenticated API call:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl -k -i -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"x-apikey: MY-API-KEY-HERE"</span><span class="se">\</span>
 -X GET <span class="s1">'https://{mydatabase}.restdb.io/rest/people'</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>MY-API-KEY-HERE</code> with your actual API key.</p>
</blockquote>

<p>Authentication can be done with one of the following methods:</p>

<ul>
<li><strong>API key</strong> as a query parameter, e.g. <code>?apikey=xxxxx</code></li>
<li><strong>API key</strong> as a HTTP header field, e.g. <code>x-apikey=xxxxx</code></li>
<li><strong>Signed JWT token</strong> as a HTTP header field, <code>Authorization=Bearer xxxxx</code></li>
</ul>

<p>You can create your API keys on the admin dashboard of your database, shown in the example screenshot below.</p>

<p><img src="https://ras-blogdb.restdb.io/media/5bfe8b971c8eea7400002e95" alt="admin dashboard" /></p>
<h2 id='cors-api-keys'>CORS API keys</h2>
<blockquote>
<p>Ajax call via CORS:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Call API from a web browser requires a CORS enabled API key</span>
<span class="kd">var</span> <span class="nx">myCorsApiKey</span> <span class="o">=</span> <span class="s2">"{MY-CORS-API-KEY-HERE}"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">withCredentials</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="nx">xhr</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"readystatechange"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"GET"</span><span class="p">,</span> <span class="s2">"https://{mydatabase}.restdb.io/rest/people"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"content-type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"x-apikey"</span><span class="p">,</span> <span class="nx">myCorsApiKey</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"cache-control"</span><span class="p">,</span> <span class="s2">"no-cache"</span><span class="p">);</span>

<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>To connect to your database from a web page, a valid Ajax call with CORS must be done. CORS (cross-origin resource sharing) manages cross-origin requests. A CORS enabled API-key controls who can access the database and valid HTTP verbs agaists a data resource, i.e. <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code> and <code>DELETE</code>.</p>

<p>You can manage your API-keys unders the Settings/API tab.</p>

<p><img src="https://ras-blogdb.restdb.io/media/5603c3353c55510300000004?s=w" alt="CORS settings" /></p>
<h2 id='auth0-com-jwt-tokens'>Auth0.com JWT tokens</h2><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">AUTH0_CLIENT_ID</span><span class="o">=</span><span class="s1">'xxx'</span><span class="p">;</span> 
<span class="kd">var</span> <span class="nx">AUTH0_DOMAIN</span><span class="o">=</span><span class="s1">'xxx'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">AUTH0_CALLBACK_URL</span><span class="o">=</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>

<span class="c1">// invoke the lock component</span>
<span class="kd">var</span> <span class="nx">lock</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Auth0Lock</span><span class="p">(</span><span class="nx">AUTH0_CLIENT_ID</span><span class="p">,</span> <span class="nx">AUTH0_DOMAIN</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">auth</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">params</span><span class="p">:</span> <span class="p">{</span> <span class="na">scope</span><span class="p">:</span> <span class="s1">'openid email'</span> <span class="p">}</span> <span class="c1">//Details: https://auth0.com/docs/scopes</span>
    <span class="p">},</span>
    <span class="na">rememberLastLogin</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">});</span>

  <span class="nx">$</span><span class="p">(</span><span class="s1">'.btn-login'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="nx">lock</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">lock</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"authenticated"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">authResult</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">lock</span><span class="p">.</span><span class="nx">getProfile</span><span class="p">(</span><span class="nx">authResult</span><span class="p">.</span><span class="nx">idToken</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">profile</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"Unable to authenticate!"</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">'id_token'</span><span class="p">,</span> <span class="nx">authResult</span><span class="p">.</span><span class="nx">idToken</span><span class="p">);</span>
        <span class="c1">// Display user information</span>
        <span class="nx">show_profile_info</span><span class="p">(</span><span class="nx">profile</span><span class="p">);</span>
        <span class="c1">// enable api button</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'.btn-api'</span><span class="p">).</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s2">"Press me, I'm authenticated!"</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>

<span class="c1">// We use the token from Auth0 to authenticate API calls against restdb.io databases</span>
<span class="c1">// by setting the Authorization header using the Bearer token scheme.</span>

  <span class="nx">$</span><span class="p">(</span><span class="s1">'.btn-api'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="s2">"https://{mydatabase}.restdb.io/rest/items?max=4"</span><span class="p">,{</span>
    <span class="na">headers</span><span class="p">:{</span>
        <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer '</span> <span class="o">+</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">"id_token"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span><span class="o">=&gt;</span><span class="p">{</span>
        <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">body</span><span class="o">=&gt;</span><span class="p">{</span>
         <span class="nx">$</span><span class="p">(</span><span class="s1">'#apidata'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'  '</span><span class="p">));</span>
    <span class="p">});</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="p">});</span>
</code></pre>
<p>RestDB supports direct integration with the auth0.com authentication service. JWT (<a href="https://jwt.io/">JSON Web Token</a>) are signed with your Auth0 secret and verified by RestDB using the same secret.
Auth0.com lets you add a multitude of authentication schemes to your app.
<img src="https://ras-blogdb.restdb.io/media/57d1327a791a484c000001d2?s=o&amp;key=327688688052565719837" alt="Auth0.com lock component" /></p>

<p>You can manage the Auth0.com integration and settions under Settings/Authentication.</p>

<p><img src="https://ras-blogdb.restdb.io/media/5c04e23f587d725400000745?s=w" alt="Auth0.com secret" /></p>

<p><a target="restdb" href="https://restdb.io/blog/57cece1a2d5dbc27000000d3">Blog post with a complete demo application here.</a></p>
<h2 id='custom-jwt-api'>Custom JWT API</h2>
<p>Issue a new signed JWT with custom claims.</p>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://<span class="o">{</span>mydatabase<span class="o">}</span>.restdb.io/auth/jwt <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'cache-control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'x-apikey: 021ead58943f10990f5b9b50b5e884f11bf00'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "secret": "google.private_key",
    "algorithm": "RS256",
    "issuer": "server@xxx-yyy.iam.gserviceaccount.com",
    "audience":"https://www.googleapis.com/oauth2/v4/token",
    "subject": "name@example.com",
    "expiresIn": "1h",
    "payload":{
        "scope":"https://www.googleapis.com/auth/gmail.readonly"

    }
}'</span>
</code></pre>
<blockquote>
<p>Example output</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"jwt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzY29wZSI6Imh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZ21haWwucmVhZG9ubHkiLCJpYXQiOjE1NDU4MTg0MDYsImV4cCI6MTU0NTgyMjAwNiwiYXVkIjoiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3Y0L3Rva2VuIiwiaXNzIjoic2VydmVyQHh4eC15eXkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJzdWIiOiJuYW1lQGV4YW1wbGUuY29tIiwianRpIjoiY21WemRHUmliV0ZwYkMwek5HRTRMbkpsYzNSa1lpNXFkM1F1YlhselpXTnlaWFF2TnprMU1tRXlZbVUyWVRJM09XWTNZbVJqWkRreE56ZzRaVGhoWmpsbE1UQT0ifQ.s3prKE3UO16oRhVVO9uZ-Tn8K1mF6Z6vpKGQrNwxxxM"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refresh"</span><span class="p">:</span><span class="w"> </span><span class="s2">"853948951eca9da241e642d5c9b0383abba55571a8995e67f64e8b55eea36f53"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST https://{mydatabase}.restdb.io/auth/jwt</code></p>

<p>The <code>POST</code> body Request body contains JWT settings and claims.</p>

<p><strong>ARGUMENTS</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>secret</code></td>
<td><code>string</code></td>
<td>Mandatory</td>
<td>Path to settings property</td>
</tr>
<tr>
<td><code>algorithm</code></td>
<td><code>string</code></td>
<td>Optional</td>
<td>Hash algo</td>
</tr>
</tbody></table>

<aside class="warning">
*HTTPS is required. The restdb.io database REST API only responds to encrypted traffic so that your data remains safe. All API traffic must have a valid apikey or a JWT token.
</aside>
<h1 id='data-collection-api'>Data Collection API</h1>
<p>The <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">Restful</a> API automatically reflects your database schema. All restdb.io databases have a unique URL as a REST endpoint. Client applications communicate through the URL with JSON objects. A database collection (same as a SQL table) contains your JSON documents. </p>
<h2 id='fetch-a-data-list-from-a-collection'>Fetch a data list from a collection</h2>
<blockquote>
<p>Example code to GET data list from a collection:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl -g -X GET <span class="se">\</span>
  <span class="s1">'https://sports-xf03.restdb.io/rest/companies?q={"status":"professional"}&amp;sort=score&amp;max=10'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'cache-control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'x-apikey: 73bf145c901d1feecf80c26a9d0d1a64aa145'</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">// Node.js Javascript</span>
<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://sports-xf03.restdb.io/rest/companies'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> 
   <span class="p">{</span> <span class="na">q</span><span class="p">:</span> <span class="s1">'{%22status%22:%22professional%22}'</span><span class="p">,</span>
     <span class="na">sort</span><span class="p">:</span> <span class="s1">'score'</span><span class="p">,</span>
     <span class="na">max</span><span class="p">:</span> <span class="s1">'10'</span> <span class="p">},</span>
  <span class="na">headers</span><span class="p">:</span> 
   <span class="p">{</span> <span class="s1">'x-apikey'</span><span class="p">:</span> <span class="s1">'73bf145c901d1feecf80c26a9d0d1a64aa145'</span><span class="p">,</span>
     <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache,no-cache'</span><span class="p">,</span>
     <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span> <span class="p">}</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight javascript tab-javascript--browser"><code><span class="c1">// Browser version</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">withCredentials</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="nx">xhr</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"readystatechange"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"GET"</span><span class="p">,</span> <span class="s2">"https://sports-xf03.restdb.io/rest/companies?q={%22status%22:%22professional%22}&amp;sort=score&amp;max=10"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"cache-control"</span><span class="p">,</span> <span class="s2">"no-cache,no-cache"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"x-apikey"</span><span class="p">,</span> <span class="s2">"73bf145c901d1feecf80c26a9d0d1a64aa145"</span><span class="p">);</span>

<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># Using the request library</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://sports-xf03.restdb.io/rest/companies"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"q"</span><span class="p">:</span><span class="s">"{</span><span class="si">%22</span><span class="s">status</span><span class="si">%22</span><span class="s">:</span><span class="si">%22</span><span class="s">professional</span><span class="si">%22</span><span class="s">}"</span><span class="p">,</span><span class="s">"sort"</span><span class="p">:</span><span class="s">"score"</span><span class="p">,</span><span class="s">"max"</span><span class="p">:</span><span class="s">"10"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
    <span class="s">'cache-control'</span><span class="p">:</span> <span class="s">"no-cache,no-cache"</span><span class="p">,</span>
    <span class="s">'x-apikey'</span><span class="p">:</span> <span class="s">"73bf145c901d1feecf80c26a9d0d1a64aa145"</span>
    <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://sports-xf03.restdb.io/rest/companies?q={%22status%22:%22professional%22}&amp;sort=score&amp;max=10"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache,no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-apikey"</span><span class="o">,</span> <span class="s">"73bf145c901d1feecf80c26a9d0d1a64aa145"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'https://sports-xf03.restdb.io/rest/companies'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_GET</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setQueryData</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'q'</span> <span class="o">=&gt;</span> <span class="s1">'{%22status%22:%22professional%22}'</span><span class="p">,</span>
  <span class="s1">'sort'</span> <span class="o">=&gt;</span> <span class="s1">'score'</span><span class="p">,</span>
  <span class="s1">'max'</span> <span class="o">=&gt;</span> <span class="s1">'10'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-apikey'</span> <span class="o">=&gt;</span> <span class="s1">'73bf145c901d1feecf80c26a9d0d1a64aa145'</span><span class="p">,</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache,no-cache'</span><span class="p">,</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://sports-xf03.restdb.io/rest/companies?q={%22status%22:%22professional%22}&amp;sort=score&amp;max=10"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-apikey"</span><span class="p">,</span> <span class="s">"73bf145c901d1feecf80c26a9d0d1a64aa145"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache,no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"cache-control"</span><span class="p">:</span> <span class="s">"no-cache,no-cache"</span><span class="p">,</span>
  <span class="s">"x-apikey"</span><span class="p">:</span> <span class="s">"73bf145c901d1feecf80c26a9d0d1a64aa145"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">NSMutableURLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://sports-xf03.restdb.io/rest/companies?q={%22status%22:%22professional%22}&amp;sort=score&amp;max=10"</span><span class="p">)</span><span class="o">!</span> <span class="k">as</span> <span class="kt">URL</span><span class="p">,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"GET"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Example output:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"professional"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"professional"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET https://{mydatabase}.restdb.io/rest/{collection}[?query parameters]</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>{mydatabase}</code> <small>mandatory</small></td>
<td>Your unique database name, e.g. <code>sports-xf03</code></td>
</tr>
<tr>
<td><code>{collection}</code> <small>mandatory</small></td>
<td>A unique collection name in your database, e.g. <code>players</code></td>
</tr>
</tbody></table>
<h3 id='optional-query-parameters'>Optional query parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td><code>{}</code></td>
<td>Database Query. JSON format</td>
</tr>
<tr>
<td>h</td>
<td><code>{}</code></td>
<td><a href="#query-hints">Query hints</a> for Query and output. JSON format</td>
</tr>
<tr>
<td>filter</td>
<td></td>
<td>Free text search filter</td>
</tr>
<tr>
<td>sort</td>
<td><code>_id</code></td>
<td>Field to sort query result on</td>
</tr>
<tr>
<td>dir</td>
<td><code>-1</code></td>
<td>Sort direction, -1 = ascending, 1 = descending</td>
</tr>
<tr>
<td>skip</td>
<td><code>0</code></td>
<td>Skip forward in result data set</td>
</tr>
<tr>
<td>max</td>
<td><code>1000</code></td>
<td>Data result page size</td>
</tr>
<tr>
<td>metafields</td>
<td></td>
<td>Add system fields in data result. See <a href="#meta-fields">meta fields</a></td>
</tr>
<tr>
<td>totals</td>
<td></td>
<td>Return data and paging meta data. See <a href="#data-result-paging">data result paging</a></td>
</tr>
<tr>
<td>groupby</td>
<td></td>
<td>Group data by field</td>
</tr>
<tr>
<td>aggregate</td>
<td></td>
<td>Aggregae data by field</td>
</tr>
<tr>
<td>apikey</td>
<td></td>
<td>Add an apikey in as request parameter instead of as a header value (not recommended)</td>
</tr>
<tr>
<td>idtolink</td>
<td></td>
<td>URLs for links and images</td>
</tr>
<tr>
<td>flatten</td>
<td></td>
<td>Place deep properies on root object</td>
</tr>
<tr>
<td>referencedby</td>
<td></td>
<td>refs</td>
</tr>
<tr>
<td>fetchmediadata</td>
<td></td>
<td>media</td>
</tr>
<tr>
<td>fetchchildren</td>
<td></td>
<td>child data</td>
</tr>
<tr>
<td>format</td>
<td></td>
<td>.js or .html</td>
</tr>
</tbody></table>
<h2 id='fetch-a-data-item-from-a-collection'>Fetch a data item from a collection</h2>
<p>Get a data item by the unique document <code>_id</code> from a collection.</p>

<p><strong>HTTP REQUEST</strong></p>

<blockquote>
<p>Example code to GET a data item:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  https://sports-xf03.restdb.io/rest/companies/570e052d98290e490000006e <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'cache-control: no-cache,no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'x-apikey: 73bf145c901d1feecf80c26a9d0d1a64aa145'</span>
</code></pre>
<blockquote>
<p>Example output:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amateur"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET https://{mydatabase}.restdb.io/rest/{collection}/{ID}</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>{mydatabase}</code> <small>mandatory</small></td>
<td>Your unique database name, e.g. <code>sports-xf03</code></td>
</tr>
<tr>
<td><code>{collection}</code> <small>mandatory</small></td>
<td>A unique collection name in your database, e.g. <code>players</code></td>
</tr>
<tr>
<td><code>{ID}</code> <small>mandatory</small></td>
<td>A unique document ID, e.g. <code>570e052d98290e490000006e</code></td>
</tr>
</tbody></table>
<h2 id='update-a-data-item-in-a-collection'>Update a data item in a collection</h2>
<p>Update a data item by the unique document <code>_id</code> in a collection.</p>

<p><strong>HTTP REQUEST</strong></p>

<p><code>PUT https://{mydatabase}.restdb.io/rest/{collection}/{ID}</code></p>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>{mydatabase}</code> <small>mandatory</small></td>
<td>Your unique database name, e.g. <code>sports-xf03</code></td>
</tr>
<tr>
<td><code>{collection}</code> <small>mandatory</small></td>
<td>A unique collection name in your database, e.g. <code>players</code></td>
</tr>
<tr>
<td><code>{ID}</code> <small>mandatory</small></td>
<td>A unique document ID, e.g. <code>570e052d98290e490000006e</code></td>
</tr>
<tr>
<td><code>body</code> <small>mandatory</small></td>
<td>Request body, a valid JSON document with properties to update</td>
</tr>
</tbody></table>
<h3 id='data-result-paging'>Data result paging</h3>
<blockquote>
<p>Data result paging output example below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5631d356f941f479000000ea"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fames Institute"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8557 Elit, Rd."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goslar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Z2 8KA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5631d356f941f47900000109"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Urna LLP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P.O. Box 108, 7946 Erat Avenue"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morpeth"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"K1Z 2TI"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use the totals query parameter to retrieve data about totals, page size and page skipping.</p>

<p>The example query URL below shows an example:</p>

<p><code>GET https://sports-xf03.restdb.io/rest/companies?totals=true&amp;skip=10&amp;max=2</code></p>
<h3 id='header-values'>Header values</h3>
<p>bal bla</p>
<h3 id='query-hints'>Query hints</h3>
<table><thead>
<tr>
<th>Hint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$fields</code></td>
<td>Show or hide fields in the output data result set. E.g. <code>h={&quot;$fields&quot;:{&quot;title&quot;:1, &quot;age&quot;: 0}</code>. Mixing values 0 and 1 are not allowed</td>
</tr>
<tr>
<td><code>$max</code></td>
<td>Max records returnes by query. E.g. <code>h={&quot;$max&quot;: 20}</code></td>
</tr>
<tr>
<td><code>$skip</code></td>
<td>Skip records. E.g. <code>h={&quot;$skip&quot;: 100}</code></td>
</tr>
<tr>
<td><code>$orderby</code></td>
<td>Sort by field(s). E.g. <code>h={&quot;$orderby&quot;: {&quot;salary&quot;: 1, &quot;age&quot;: -1}</code></td>
</tr>
<tr>
<td><code>$groupby</code></td>
<td>Group data by field(s). E.g. <code>h={&quot;$groupby&quot;:[&quot;age&quot;, &quot;position&quot;}</code>. See <a href="#aggregation">aggregation</a></td>
</tr>
<tr>
<td><code>$aggregate</code></td>
<td>Aggregate data by expression(s). <code>h={&quot;$aggregate&quot;:[&quot;SUM:score&quot;]}</code>. See <a href="#aggregation">aggregation</a></td>
</tr>
</tbody></table>
<h3 id='meta-fields'>Meta fields</h3>
<blockquote>
<p>Example output data with metafields:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5631d356f941f47900000110"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nullam Suscipit Est Limited"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P.O. Box 460, 4937 Non, Street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"La Magdeleine"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AX6 7KK"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"_keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"nullam"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"suscipit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"est"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"limited"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"p"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"o"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"box"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"460"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"4937"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"non"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"street"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"la"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"magdeleine"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ax6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"7kk"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"_tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nullam suscipit est limited p o box 460 4937 non street la magdeleine ax6 7kk"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-29T08:05:41.947Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"_createdby"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jones@restdb.io"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>The example query URL below show how metafields are return with the user data.</p>

<p><code>GET https://sports-xf03.restdb.io/rest/companies?&amp;metafields=true</code></p>

<table><thead>
<tr>
<th>Metafield</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>_id</code></td>
<td>Unique document ID</td>
</tr>
<tr>
<td><code>_keywords</code></td>
<td>Array of unique words from the JSON document</td>
</tr>
<tr>
<td><code>_tags</code></td>
<td>Text string of unique words from the JSON document</td>
</tr>
<tr>
<td><code>_version</code></td>
<td>Number inncremented of each update</td>
</tr>
<tr>
<td><code>_created</code></td>
<td>ISO Date string from the document creation time</td>
</tr>
<tr>
<td><code>_createdby</code></td>
<td>Username (email) for the authenticated user that created the document</td>
</tr>
<tr>
<td><code>_changed</code></td>
<td>ISO Date string from the document update time</td>
</tr>
<tr>
<td><code>_changedby</code></td>
<td>Email/username for the authenticated user that changed the document</td>
</tr>
</tbody></table>
<h2 id='query-language'>Query language</h2>
<p>bla bla</p>
<h3 id='logic'>Logic</h3>
<p>bla bla</p>
<h3 id='aggregation'>Aggregation</h3>
<p>bla bla</p>
<h2 id='post-resource'>POST resource</h2>
<p>bla bla</p>
<h3 id='data-payload'>Data payload</h3>
<p>bla bla</p>
<h3 id='using-post-to-emulate-put-delete-patch'>Using POST to emulate PUT, DELETE, PATCH</h3>
<p>If your development platform or firewall rules prevent you from calling HTTP methods like PUT, PATCH or DELETE, use the <code>X-HTTP-Method-Override</code> header. Pass the method you want to use in the X-HTTP-Method-Override header and make your call using the POST method.</p>
<h1 id='mail-api'>Mail API</h1>
<p>REST endpoint for sending emails. Email sending is relayed through Mailgun or Gmail APIs.
You can add your own accounts for Mailgun or Gmail.</p>
<h2 id='send-an-email'>Send an email</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://devdemo-ff5b.restdb.io/mail <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'cache-control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'x-apikey: xxxxxxxxx'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "to":"jones@restdb.io",
    "subject":"Trigger email from you database", 
    "html": "Hello email world!"
}'</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://devdemo-ff5b.restdb.io/mail'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> 
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'x-apikey'</span><span class="p">:</span> <span class="s1">'xxxxx'</span><span class="p">,</span>
     <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span> <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> 
   <span class="p">{</span> <span class="na">to</span><span class="p">:</span> <span class="s1">'jones@restdb.io'</span><span class="p">,</span>
     <span class="na">subject</span><span class="p">:</span> <span class="s1">'Trigger email from you database'</span><span class="p">,</span>
     <span class="na">html</span><span class="p">:</span> <span class="s1">'Hello email world!'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://devdemo-ff5b.restdb.io/mail"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-apikey"</span><span class="o">,</span> <span class="s">"xxxxx"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\n    \"to\":\"jones@restdb.io\",\n    \"subject\":\"Trigger email from you database\", \n    \"html\": \"Hello email world!\"\n}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight python tab-python"><code>  <span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://devdemo-ff5b.restdb.io/mail"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">to</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">jones@restdb.io</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">subject</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Trigger email from you database</span><span class="se">\"</span><span class="s">, </span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">html</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">Hello email world!</span><span class="se">\"\n</span><span class="s">}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
    <span class="s">'x-apikey'</span><span class="p">:</span> <span class="s">"xxxxx"</span><span class="p">,</span>
    <span class="s">'cache-control'</span><span class="p">:</span> <span class="s">"no-cache"</span>
    <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response (201)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"email_outbound_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bdc50a874ae8c710000dd16"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"warning"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For development plan: Max 2 emails in arrays, no templates, no Gmail transport. Upgrade plan for these features."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST https://{mydatabase}.restdb.io/mail</code></p>

<p>The <code>POST</code>body can be a single email JSON object <code>{arguments}</code>, or an array of email JSON objects <code>[{...}, {...}]</code>.</p>

<p><strong>ARGUMENTS</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>to</td>
<td>String</td>
<td>Required</td>
<td>One valid receiver email address</td>
</tr>
<tr>
<td>subject</td>
<td>String</td>
<td>Optional</td>
<td>Email subject text line</td>
</tr>
<tr>
<td>html</td>
<td>String or JSON</td>
<td>Required</td>
<td>Email body</td>
</tr>
<tr>
<td>company</td>
<td>String</td>
<td>Optional</td>
<td>Email footer in the default template</td>
</tr>
<tr>
<td>sendername</td>
<td>String</td>
<td>Optional</td>
<td>Display name for the email sender address</td>
</tr>
<tr>
<td>transport</td>
<td>String</td>
<td>Optional</td>
<td>Blank or <code>&quot;Gmail&quot;</code>. Gmail requires a paid plan</td>
</tr>
<tr>
<td>template</td>
<td>String</td>
<td>Optional</td>
<td>A Page name with the template html content</td>
</tr>
</tbody></table>
<h2 id='list-sent-emails'>List sent emails</h2>
<blockquote>
<p>Get sent emails (200)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bdc50a874ae8c710000dd16"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jones@restdb.io"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restdb_mailer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-reply@mg.restdb.ws"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trigger email from you database"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unsubscribelink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"_dbname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"devdemo-ff5b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"track"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bdc50a874ae8c710000dd16"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello email world!"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tracking-status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"read"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tracking-date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-02T13:32:16.633Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET https://devdemo-ff5b.restdb.io/rest/email_outbound</code></p>
<h2 id='get-one-sent-email'>Get one sent email</h2>
<p><code>GET https://devdemo-ff5b.restdb.io/rest/email_outbound/{ID}</code></p>

<p>Read more <a href="https://restdb.io/docs/mail-api#restdb">about mail API here</a>.</p>
<h1 id='media-content-api'>Media Content API</h1>
<p>bla bla media</p>

<p>Read more about media archive <a href="https://restdb.io/docs/media-archive">here</a>.</p>
<h1 id='meta-data-api'>Meta Data API</h1>
<p>bla bla metadata</p>
<h1 id='codehook-api'>Codehook API</h1>
<p>bla bla codehook api</p>
<h1 id='javascript-api'>JavaScript API</h1>
<p>bla bla JS</p>
<h1 id='plugin-api'>Plugin API</h1>
<p>bla bla plugin api</p>
<h1 id='real-time-api'>Real time API</h1>
<p>For realz!</p>
<h1 id='snapshot-api'>Snapshot API</h1>
<p>bla bla snap</p>
<h1 id='pages'>Pages</h1>
<p>bla bla</p>
<h2 id='handlebars'>Handlebars</h2>
<p>bla bla</p>
<pre class="highlight handlebars"><code>I am <span class="k">{{</span><span class="nv">variable</span><span class="k">}}</span> in Handlebars template.
</code></pre><h2 id='variables'>Variables</h2>
<p>bla bla</p>
<h2 id='page-codehooks'>Page Codehooks</h2>
<p>bla bla</p>
<h1 id='webhooks'>Webhooks</h1>
<p>bla bla webhooks</p>
<h1 id='custom-routes'>Custom routes</h1>
<p>bla bla routes</p>
<pre class="highlight javascript"><code><span class="c1">// #!/javascript</span>

<span class="kr">const</span> <span class="nx">getData</span> <span class="o">=</span> <span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span><span class="na">$max</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">data</span><span class="p">){</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">log</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">"Resolve"</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">log</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
                <span class="nx">reject</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="p">}</span>    
        <span class="p">})</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">onGET</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">ppl</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">getData</span><span class="p">(</span><span class="s2">"/rest/people"</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">loc</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">getData</span><span class="p">(</span><span class="s2">"/rest/locations"</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">comp</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">getData</span><span class="p">(</span><span class="s2">"/rest/companies"</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">({</span><span class="na">text</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="na">people</span><span class="p">:</span> <span class="nx">ppl</span><span class="p">,</span> <span class="na">loc</span><span class="p">:</span> <span class="nx">loc</span><span class="p">,</span> <span class="na">corp</span><span class="p">:</span> <span class="nx">comp</span><span class="p">},</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'  '</span><span class="p">)});</span> 
<span class="p">}</span>
</code></pre><h1 id='relations-in-data'>Relations in data</h1>
<p>bla bla relations</p>
<h2 id='lookups'>Lookups</h2>
<p>bla bla</p>
<h2 id='parent-child'>Parent child</h2>
<p>bla bla</p>
<h1 id='command-line-tool'>Command line tool</h1>
<p>bla bla cmd</p>
<h1 id='debugging'>Debugging</h1>
<p>bla bla</p>
<h2 id='rest-inspector'>Rest inspector</h2>
<p>bla bla</p>
<h2 id='realtime-output'>Realtime output</h2>
<p>bla bla</p>
<h2 id='web-console'>Web console</h2>
<p>bla bla</p>
<h1 id='application-settings'>Application settings</h1>
<p>bla bla settings</p>
<h2 id='caching'>Caching</h2>
<p>bla bla caching</p>
<h2 id='properties'>Properties</h2>
<p>bla bla</p>
<h1 id='errors'>Errors</h1>
<p>The RestDB API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The requested is not allowed.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many API calls! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript--node">Node.js</a>
                <a href="#" data-language-name="javascript--browser">JS</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="swift">Swift</a>
                <a href="#" data-language-name="swift">Objective-C</a>
          </div>
      </div>
    </div>
  </body>
</html>
