<h1 id='mail-api'>Mail API</h1>
<p>REST endpoint for sending emails. Email sending is relayed through Mailgun or Gmail APIs.
You can add your own accounts for Mailgun or Gmail.</p>
<h2 id='send-an-email'>Send an email</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://devdemo-ff5b.restdb.io/mail <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'cache-control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'x-apikey: xxxxxxxxx'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "to":"jones@restdb.io",
    "subject":"Trigger email from you database", 
    "html": "Hello email world!"
}'</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://devdemo-ff5b.restdb.io/mail'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> 
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'x-apikey'</span><span class="p">:</span> <span class="s1">'xxxxx'</span><span class="p">,</span>
     <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span> <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> 
   <span class="p">{</span> <span class="na">to</span><span class="p">:</span> <span class="s1">'jones@restdb.io'</span><span class="p">,</span>
     <span class="na">subject</span><span class="p">:</span> <span class="s1">'Trigger email from you database'</span><span class="p">,</span>
     <span class="na">html</span><span class="p">:</span> <span class="s1">'Hello email world!'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Response (201)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"email_outbound_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bdc50a874ae8c710000dd16"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"warning"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For development plan: Max 2 emails in arrays, no templates, no Gmail transport. Upgrade plan for these features."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST https://{mydatabase}.restdb.io/mail</code></p>

<p>The <code>POST</code>body can be a single email JSON object <code>{arguments}</code>, or an array of email JSON objects <code>[{...}, {...}]</code>.</p>

<p><strong>ARGUMENTS</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>to</td>
<td>String</td>
<td>Required</td>
<td>One valid receiver email address</td>
</tr>
<tr>
<td>subject</td>
<td>String</td>
<td>Optional</td>
<td>Email subject text line</td>
</tr>
<tr>
<td>html</td>
<td>String or JSON</td>
<td>Required</td>
<td>Email body</td>
</tr>
<tr>
<td>company</td>
<td>String</td>
<td>Optional</td>
<td>Email footer in the default template</td>
</tr>
<tr>
<td>sendername</td>
<td>String</td>
<td>Optional</td>
<td>Display name for the email sender address</td>
</tr>
<tr>
<td>transport</td>
<td>String</td>
<td>Optional</td>
<td>Blank or <code>&quot;Gmail&quot;</code>. Gmail requires a paid plan</td>
</tr>
<tr>
<td>template</td>
<td>String</td>
<td>Optional</td>
<td>A Page name with the template html content</td>
</tr>
</tbody></table>

<p>Read more <a href="https://restdb.io/docs/mail-api#restdb">about mail API here</a>.</p>
